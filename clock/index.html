<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Presidency Clock — Countdown</title>
<meta name="description" content="Countdown to the constitutional end of the current U.S. presidential term.">
<style>
  :root{
    --bg:#0b1020;--fg:#e8edf7;--muted:#9fb3c8;--accent:#3d6cff;
    --card:#121833;--card-border:#24305a;
  }
  html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial}
  .wrap{max-width:960px;margin:0 auto;padding:24px}
  .card{background:var(--card);border:1px solid var(--card-border);border-radius:14px;padding:16px}
  h1{margin:0 0 6px}
  p{margin:0 0 10px;color:var(--muted)}
  .countdown{display:flex;gap:10px;flex-wrap:wrap;margin:8px 0}
  .tile{min-width:120px;text-align:center;background:rgba(255,255,255,.02);border:1px solid var(--card-border);border-radius:12px;padding:14px}
  .num{font-size:32px;font-weight:800}
  .lbl{font-size:12px;text-transform:uppercase;color:var(--muted);letter-spacing:.05em}
  .controls{display:flex;gap:10px;flex-wrap:wrap;margin:8px 0}
  .btn{border:1px solid var(--card-border);background:rgba(255,255,255,.04);color:var(--fg);padding:10px 12px;border-radius:10px;cursor:pointer}
  .btn[aria-pressed="true"]{outline:2px solid var(--accent)}
  .share{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
  a.btn{display:inline-block;text-decoration:none}
  .notice{color:var(--muted);font-size:12px;margin-top:8px}
  .embed{margin-top:12px}
  code{display:block;background:rgba(255,255,255,.04);border:1px solid var(--card-border);padding:10px;border-radius:10px;overflow:auto}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1 id="title"></h1>
    <p id="sub"></p>
    <div class="countdown" aria-live="polite" aria-label="countdown">
      <div class="tile"><div class="num" id="d">0</div><div class="lbl" id="lbl-d">Days</div></div>
      <div class="tile"><div class="num" id="h">00</div><div class="lbl" id="lbl-h">Hours</div></div>
      <div class="tile"><div class="num" id="m">00</div><div class="lbl" id="lbl-m">Minutes</div></div>
      <div class="tile"><div class="num" id="s">00</div><div class="lbl" id="lbl-s">Seconds</div></div>
    </div>

    <div class="controls">
      <span id="sound-label" class="btn" style="pointer-events:none"></span>
      <button class="btn snd" data-mode="tick" aria-pressed="true" id="btn-tick"></button>
      <button class="btn snd" data-mode="beep" aria-pressed="false" id="btn-beep"></button>
      <button class="btn" id="mute"></button>

      <div style="margin-left:auto">
        <button class="btn lang" data-lang="en">EN</button>
        <button class="btn lang" data-lang="uk">UK</button>
        <button class="btn lang" data-lang="es">ES</button>
        <button class="btn lang" data-lang="fr">FR</button>
        <button class="btn lang" data-lang="de">DE</button>
      </div>
    </div>

    <div class="share">
      <a id="share-x" class="btn" target="_blank" rel="noopener"></a>
      <a id="share-fb" class="btn" target="_blank" rel="noopener"></a>
      <button id="copy-iframe" class="btn"></button>
      <button id="copy-script" class="btn"></button>
    </div>

    <p class="notice" id="terms"></p>

    <div class="embed">
      <p class="notice" id="widget-note"></p>
      <code id="embed-code" aria-live="polite"></code>
    </div>
  </div>
</div>

<script>
  // ---------- i18n ----------
  const I18N = {
    en:{title:"Time left in Donald Trump’s presidency",sub:"U.S. presidential terms end at 12:00 noon ET on January 20.",sound:"Sound",tick:"Ticking",beep:"Digital beep",mute:"Mute sound",unmute:"Unmute sound",shareX:"Share on X",shareFB:"Share on Facebook",copyIframe:"Copy iframe",copyScript:"Copy script",copied:"Copied!",seconds:"Seconds",terms:"Constitutional end of term: 12:00 ET, January 20, 2029.",widgetNote:"Embed this widget on any site:"},
    uk:{title:"Скільки часу залишилося Дональду Трампу на посаді президента США",sub:"Президентський термін у США закінчується о 12:00 за Східним часом 20 січня.",sound:"Звук",tick:"Тихий «тік-так»",beep:"Електронний біп",mute:"Вимкнути звук",unmute:"Увімкнути звук",shareX:"Поділитися в X",shareFB:"Поділитися у Facebook",copyIframe:"Скопіювати iframe",copyScript:"Скопіювати script",copied:"Скопійовано!",seconds:"Секунди",terms:"Кінець терміну: 12:00 ET, 20 січня 2029.",widgetNote:"Код для вбудовування віджета:"},
    es:{title:"Tiempo restante del mandato de Donald Trump",sub:"El mandato presidencial termina a las 12:00 ET el 20 de enero.",sound:"Sonido",tick:"Tictac",beep:"Pitido digital",mute:"Silenciar",unmute:"Activar sonido",shareX:"Compartir en X",shareFB:"Compartir en Facebook",copyIframe:"Copiar iframe",copyScript:"Copiar script",copied:"¡Copiado!",seconds:"Segundos",terms:"Fin del mandato: 12:00 ET, 20 de enero de 2029.",widgetNote:"Inserta este widget:"},
    fr:{title:"Temps restant du mandat de Donald Trump",sub:"Le mandat se termine à 12 h (ET) le 20 janvier.",sound:"Son",tick:"Tic-tac",beep:"Bip numérique",mute:"Couper le son",unmute:"Activer le son",shareX:"Partager sur X",shareFB:"Partager sur Facebook",copyIframe:"Copier l’iframe",copyScript:"Copier le script",copied:"Copié !",seconds:"Secondes",terms:"Fin du mandat : 12:00 ET, 20 janvier 2029.",widgetNote:"Code d’intégration du widget :"},
    de:{title:"Verbleibende Amtszeit von Donald Trump",sub:"Die Amtszeit endet um 12:00 ET am 20. Januar.",sound:"Sound",tick:"Ticken",beep:"Digitaler Piepton",mute:"Stumm",unmute:"Ton ein",shareX:"Auf X teilen",shareFB:"Auf Facebook teilen",copyIframe:"Iframe kopieren",copyScript:"Script kopieren",copied:"Kopiert!",seconds:"Sekunden",terms:"Amtsende: 12:00 ET, 20. Januar 2029.",widgetNote:"Widget einbetten:"}
  };
  const params=new URLSearchParams(location.search);
  let lang=(params.get('lang')||'en').toLowerCase(); if(!I18N[lang]) lang='en';
  const t=k=>I18N[lang][k]||k;

  // Fill UI
  document.title='Presidency Clock — '+t('title');
  title.textContent=t('title'); sub.textContent=t('sub'); terms.textContent=t('terms');
  document.getElementById('sound-label').textContent=t('sound');
  btn-tick.textContent=t('tick'); btn-beep.textContent=t('beep');
  document.getElementById('mute').textContent=t('unmute');
  lbl-s.textContent=t('seconds');
  document.getElementById('share-x').textContent=t('shareX');
  document.getElementById('share-fb').textContent=t('shareFB');
  document.getElementById('copy-iframe').textContent=t('copyIframe');
  document.getElementById('copy-script').textContent=t('copyScript');
  document.getElementById('widget-note').textContent=t('widgetNote');

  // ---------- sounds ----------
  class ClockAudio{
    constructor(){ this.ctx=null; this.enabled=false; this.mode='tick'; }
    ensure(){ if(!this.ctx) this.ctx=new (window.AudioContext||window.webkitAudioContext)(); }
    setMode(m){ this.mode=m; }
    toggle(on){ this.enabled=(on===undefined)?!this.enabled:on; if(this.enabled) this.ensure(); return this.enabled; }
    play(){ if(!this.enabled) return; this.ensure(); const o=this.ctx.createOscillator(), g=this.ctx.createGain();
      o.type='square'; o.frequency.value=(this.mode==='beep')?880:220;
      g.gain.value=0.001; g.gain.exponentialRampToValueAtTime(0.00001,this.ctx.currentTime+0.08);
      o.connect(g).connect(this.ctx.destination); o.start(); o.stop(this.ctx.currentTime+0.08);
    }
  }
  const audio=new ClockAudio();
  let muted=true, mode='tick';
  function setMode(m){ mode=m; audio.setMode(mode);
    document.querySelectorAll('.snd').forEach(b=>b.setAttribute('aria-pressed', String(b.dataset.mode===mode)));
  }
  function toggleMute(){ muted=!muted; audio.toggle(!muted);
    document.getElementById('mute').textContent=muted?t('unmute'):t('mute');
  }
  document.querySelectorAll('.snd').forEach(b=>b.addEventListener('click',()=>setMode(b.dataset.mode)));
  document.getElementById('mute').addEventListener('click',toggleMute);
  document.querySelectorAll('.lang').forEach(b=>b.addEventListener('click',()=>{ location.search='?lang='+b.dataset.lang; }));

  // ---------- countdown ----------
  const TARGET = Date.parse('2029-01-20T17:00:00Z'); // 12:00 ET
  const pad = n=>String(n).padStart(2,'0');
  function tick(){
    const now=Date.now(); let diff=Math.max(0, TARGET-now);
    const s=Math.floor(diff/1000)%60, m=Math.floor(diff/60000)%60, h=Math.floor(diff/3600000)%24, d=Math.floor(diff/86400000);
    dEl.textContent=d; hEl.textContent=pad(h); mEl.textContent=pad(m); sEl.textContent=pad(s);
    if(!muted) audio.play();
    if(diff===0) clearInterval(timer);
  }
  const dEl = document.getElementById('d'),
        hEl = document.getElementById('h'),
        mEl = document.getElementById('m'),
        sEl = document.getElementById('s');
  let timer=setInterval(tick,1000); tick();

  // ---------- share ----------
  const pageUrl = encodeURIComponent(location.origin+'/clock/?lang='+lang);
  const text = encodeURIComponent(t('title'));
  document.getElementById('share-x').href = `https://twitter.com/intent/tweet?text=${text}&url=${pageUrl}`;
  document.getElementById('share-fb').href = `https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;

  // ---------- embed codes ----------
  const iframeCode = `<iframe src="${location.origin}/widget.html?lang=${lang}&theme=dark" width="100%" height="140" style="border:0;border-radius:12px" loading="lazy"></iframe>`;
  const scriptCode = `<script src="${location.origin}/js/embed.js" data-lang="${lang}" data-theme="dark" async></script>`;
  const embed = document.getElementById('embed-code');
  embed.textContent = iframeCode;
  function copy(txt,btn){ navigator.clipboard.writeText(txt).then(()=>{ btn.textContent=t('copied'); setTimeout(()=>btn.textContent = btn===copyIframe?t('copyIframe'):t('copyScript'), 1200); });}
  const copyIframe = document.getElementById('copy-iframe'), copyScript = document.getElementById('copy-script');
  copyIframe.addEventListener('click',()=>copy(iframeCode,copyIframe));
  copyScript.addEventListener('click',()=>copy(scriptCode,copyScript));
  // default sound mode
  setMode('tick');
</script>
</body>
</html>
