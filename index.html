<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Presidency Clock</title>
<meta name="description" content="Countdown to the constitutional end of the U.S. presidential term (12:00 ET, Jan 20, 2029).">
<link rel="canonical" href="https://presidencyclock.com/">
<style>
:root{--bg:#0b1020;--fg:#e8edf7;--muted:#9fb3c8;--accent:#3d6cff;--card:#121833;--card-border:#24305a}
*{box-sizing:border-box}html,body{margin:0;padding:0;height:100%;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial;background:var(--bg);color:var(--fg)}
a{color:var(--accent);text-decoration:none}
header,footer{padding:14px 18px;border-bottom:1px solid var(--card-border)}
header{display:flex;align-items:center;gap:14px}nav{margin-left:auto;display:flex;gap:12px;flex-wrap:wrap}
nav a{padding:8px 10px;border:1px solid var(--card-border);border-radius:8px;background:rgba(255,255,255,.03);text-transform:lowercase}
nav a.active{border-color:var(--accent)}
.container{max-width:1100px;margin:0 auto;padding:24px}
.card{background:var(--card);border:1px solid var(--card-border);border-radius:14px;padding:16px}
.hero{display:grid;grid-template-columns:1fr;gap:18px;margin-top:18px}
.countdown{display:flex;gap:10px;flex-wrap:wrap}
.tile{background:rgba(255,255,255,.03);border:1px solid var(--card-border);padding:16px 14px;border-radius:14px;min-width:140px;text-align:center}
.num{font-size:40px;font-weight:800}.lbl{color:var(--muted);font-size:12px;letter-spacing:.05em;text-transform:uppercase}
.controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
.btn{border:1px solid var(--card-border);background:rgba(255,255,255,.04);color:var(--fg);padding:10px 12px;border-radius:10px;cursor:pointer}
.btn[aria-pressed="true"]{outline:2px solid var(--accent)}
.badge{color:var(--muted);padding:10px 0}
.lang-switch{display:flex;gap:8px}.share{display:flex;gap:10px;flex-wrap:wrap}
.ads{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;margin-top:14px}
.ad-box{min-height:120px;background:rgba(255,255,255,.03);border:1px dashed var(--card-border);border-radius:10px;display:flex;align-items:center;justify-content:center;color:var(--muted)}
footer{border-top:1px solid var(--card-border);border-bottom:none;color:var(--muted)}
</style>
</head><body>
<header>
  <img src="/assets/logo.svg" alt="Presidency Clock logo" height="32">
  <nav>
    <a href="/index.html" class="active" data-i18n="home"></a>
    <a href="/pages/evergreen.html" data-i18n="presidents"></a>
    <a href="/pages/digest.html" data-i18n="digest"></a>
    <a href="/pages/about.html" data-i18n="about"></a>
    <a href="/pages/privacy.html" data-i18n="privacy"></a>
    <a href="/pages/contact.html" data-i18n="contact"></a>
  </nav>
</header>

<main class="container">
  <section class="hero card">
    <h1 data-i18n="title"></h1>
    <p class="muted" data-i18n="sub"></p>

    <div class="countdown" aria-live="polite" aria-label="countdown">
      <div class="tile" id="days"><div class="num">0</div><div class="lbl">Days</div></div>
      <div class="tile" id="hours"><div class="num">00</div><div class="lbl">Hours</div></div>
      <div class="tile" id="minutes"><div class="num">00</div><div class="lbl">Minutes</div></div>
      <div class="tile" id="seconds"><div class="num">00</div><div class="lbl" data-i18n="seconds"></div></div>
    </div>

    <div class="controls">
      <button id="enable-sound" class="btn" data-i18n="enable"></button>
      <span class="badge" data-i18n="selectSound"></span>
      <button class="btn sound-option" data-mode="tick" data-i18n="tickSound" aria-pressed="true" disabled></button>
      <button class="btn sound-option" data-mode="beep" data-i18n="beepSound" aria-pressed="false" disabled></button>
      <button id="mute-btn" class="btn" data-i18n="mute" disabled></button>

      <div class="lang-switch" style="margin-left:auto">
        <button class="btn" data-lang="en">EN</button>
        <button class="btn" data-lang="uk">UK</button>
        <button class="btn" data-lang="es">ES</button>
        <button class="btn" data-lang="fr">FR</button>
        <button class="btn" data-lang="de">DE</button>
      </div>
    </div>

    <div class="share">
      <a id="share-x" class="btn" target="_blank" rel="noopener" data-i18n="shareX"></a>
      <a id="share-fb" class="btn" target="_blank" rel="noopener" data-i18n="shareFB"></a>
    </div>

    <small class="muted" data-i18n="termsNote"></small>
  </section>

  <section class="ads">
    <div class="ad-box">Ad slot 1 — 300×250</div>
    <div class="ad-box">Ad slot 2 — 300×250</div>
    <div class="ad-box">Ad slot 3 — 728×90</div>
  </section>
</main>

<footer class="container">
  <small class="muted"><span data-i18n="madeWith"></span> ♥ <span data-i18n="in"></span> <span data-i18n="kyiv"></span> ·
    <a href="/pages/privacy.html" data-i18n="privacy"></a> · <a href="/pages/contact.html" data-i18n="contact"></a></small>
</footer>
  en:{home:"home",evergreen:"evergreen",digest:"digest",about:"about",privacy:"privacy",contact:"contact",
      title:"Time left in Donald Trump’s presidency",sub:"U.S. presidential terms end at 12:00 noon ET on January 20 (Twentieth Amendment).",
      seconds:"Seconds",selectSound:"Sound",tickSound:"Ticking",beepSound:"Digital beep",enable:"Enable sound",unmute:"Unmute",mute:"Mute",
      shareX:"Share on X",shareFB:"Share on Facebook",madeWith:"Made with",in:"in",kyiv:"Kyiv",termsNote:"Constitutional end of term: 12:00 ET, January 20, 2029."},
  uk:{home:"головна",evergreen:"вічнозелений",digest:"дайджест",about:"про нас",privacy:"конфіденційність",contact:"зв'язок",
      title:"Скільки часу залишилося Дональду Трампу на посаді президента США",sub:"Президентський термін у США закінчується о 12:00 за Східним часом 20 січня (Двадцята поправка).",
      seconds:"Секунди",selectSound:"Звук",tickSound:"Тихий «тік-так»",beepSound:"Електронний біп",enable:"Увімкнути звук",unmute:"Увімкнути",mute:"Вимкнути",
      shareX:"Поділитися в X",shareFB:"Поділитися у Facebook",madeWith:"Зроблено з",in:"у",kyiv:"Києві",termsNote:"Кінець терміну: 12:00 ET, 20 січня 2029."},
  es:{home:"inicio",evergreen:"evergreen",digest:"ai digest",about:"acerca de",privacy:"privacidad",contact:"contacto",
      title:"Tiempo restante del mandato de Donald Trump",sub:"El mandato presidencial termina a las 12:00 ET el 20 de enero.",
      seconds:"Segundos",selectSound:"Sonido",tickSound:"Tictac",beepSound:"Pitido digital",enable:"Activar sonido",unmute:"Activar",mute:"Silenciar",
      shareX:"Compartir en X",shareFB:"Compartir en Facebook",madeWith:"Hecho con",in:"en",kyiv:"Kyiv",termsNote:"Fin del mandato: 12:00 ET, 20 de enero de 2029."},
  fr:{home:"accueil",evergreen:"evergreen",digest:"ai digest",about:"à propos",privacy:"confidentialité",contact:"contact",
      title:"Temps restant du mandat de Donald Trump",sub:"Le mandat se termine à 12 h (ET) le 20 janvier.",
      seconds:"Secondes",selectSound:"Son",tickSound:"Tic-tac",beepSound:"Bip numérique",enable:"Activer le son",unmute:"Activer",mute:"Couper",
      shareX:"Partager sur X",shareFB:"Partager sur Facebook",madeWith:"Fait avec",in:"à",kyiv:"Kyiv",termsNote:"Fin du mandat : 12:00 ET, 20 janvier 2029."},
  de:{home:"start",evergreen:"evergreen",digest:"ai-digest",about:"über uns",privacy:"datenschutz",contact:"kontakt",
      title:"Verbleibende Amtszeit von Donald Trump",sub:"Die Amtszeit endet um 12:00 ET am 20. Januar.",
      seconds:"Sekunden",selectSound:"Sound",tickSound:"Ticken",beepSound:"Digitaler Piepton",enable:"Ton aktivieren",unmute:"Ein",mute:"Aus",
      shareX:"Auf X teilen",shareFB:"Auf Facebook teilen",madeWith:"Gemacht mit",in:"in",kyiv:"Kyiv",termsNote:"Amtsende: 12:00 ET, 20. Januar 2029."}
};

/* простий звуковий генератор (гучний tick/beep, дружній до iOS) */
class ClockAudio{
  constructor(){ this.ctx=null; this.enabled=false; this.mode='tick'; }
  ensure(){
    if(!this.ctx) this.ctx = new (window.AudioContext||window.webkitAudioContext)();
    if(this.ctx.state==='suspended') this.ctx.resume();
  }
  setMode(m){ this.mode=m; }
  setEnabled(on){ this.enabled=!!on; if(this.enabled) this.ensure(); }
  toggle(){ this.setEnabled(!this.enabled); return this.enabled; }
  click(){
    if(!this.enabled) return;
    this.ensure();
    const ctx=this.ctx, osc=ctx.createOscillator(), g=ctx.createGain();
    const isBeep=this.mode==='beep';
    osc.type=isBeep?'square':'sine';
    osc.frequency.value=isBeep?1000:520;
    g.gain.setValueAtTime(0.0001,ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.08,ctx.currentTime+0.006);
    g.gain.exponentialRampToValueAtTime(0.00001,ctx.currentTime+0.10);
    osc.connect(g).connect(ctx.destination);
    osc.start(); osc.stop(ctx.currentTime+0.11);
  }
}

const TARGET = Date.parse('2029-01-20T17:00:00Z');
const $=s=>document.querySelector(s), $$=s=>[...document.querySelectorAll(s)];
let lang=(new URLSearchParams(location.search).get('lang')||localStorage.getItem('lang')||(navigator.language||'en')).slice(0,2).toLowerCase();
if(!I18N[lang]) lang='en';
const t=k=>I18N[lang][k]||k;

function applyI18n(){
  $$('[data-i18n]').forEach(el=>el.textContent=t(el.dataset.i18n));
  const url=encodeURIComponent(location.origin+location.pathname+'?lang='+lang);
  const text=encodeURIComponent(t('title'));
  const x=$('#share-x'), fb=$('#share-fb');
  if(x) x.href=`https://twitter.com/intent/tweet?text=${text}&url=${url}`;
  if(fb) fb.href=`https://www.facebook.com/sharer/sharer.php?u=${url}`;
  document.title='Presidency Clock — '+t('title');
}

const audio=new ClockAudio(); let soundOn=false, mode='tick', prevSec=null;

function enableUI(on){
  $$('.sound-option,#mute-btn').forEach(b=>b.disabled=!on);
  $('#enable-sound').style.display = on ? 'none' : 'inline-block';
}

function setMode(m){
  mode=m; audio.setMode(mode);
  $$('.sound-option').forEach(b=>b.setAttribute('aria-pressed', String(b.dataset.mode===mode)));
}

function toggleMute(){
  soundOn=!soundOn; audio.setEnabled(soundOn);
  $('#mute-btn').textContent = soundOn ? t('mute') : t('unmute');
}

function render(){
  const d=Math.max(0,TARGET-Date.now());
  const s=Math.floor(d/1000)%60, m=Math.floor(d/60000)%60, h=Math.floor(d/3600000)%24, day=Math.floor(d/86400000);
  $('#days .num').textContent=day; $('#hours .num').textContent=String(h).padStart(2,'0');
  $('#minutes .num').textContent=String(m).padStart(2,'0'); $('#seconds .num').textContent=String(s).padStart(2,'0');
  if(soundOn && s!==prevSec){ audio.click(); prevSec=s; }
}

document.addEventListener('DOMContentLoaded',()=>{
  applyI18n(); render(); setInterval(render,1000);

  // Увімкнення звуку лише після кліку користувача (політики браузерів)
  $('#enable-sound').addEventListener('click', ()=>{
    try{ audio.ensure(); }catch(e){}
    soundOn=true; audio.setEnabled(true);
    enableUI(true); setMode('tick'); $('#mute-btn').textContent=t('mute');
  });

  $$('.sound-option').forEach(b=>b.addEventListener('click',()=>setMode(b.dataset.mode)));
  $('#mute-btn').addEventListener('click',toggleMute);
  $$('.lang-switch .btn').forEach(b=>b.addEventListener('click',()=>{lang=b.dataset.lang;localStorage.setItem('lang',lang);applyI18n();}));

  // до кліку — кнопки звуку вимкнені
  enableUI(false);
});
</script>
  <!-- === scripts: i18n -> shim -> audio -> app === -->
<script src="/js/i18n.js?v=15"></script>
<script>
  // SHIM: гарантуємо наявність ключа 'presidents' у словнику
  window.I18N = window.I18N || {};
  // Якщо десь у файлі є локальний const I18N — підхопимо його
  if (typeof I18N !== 'undefined' && I18N && !Object.keys(window.I18N).length) {
    window.I18N = I18N;
  }
  // Якщо в якомусь словнику нема 'presidents', але є старий 'evergreen' — підставляємо його
  for (const lang in window.I18N) {
    const d = window.I18N[lang];
    if (d && !d.presidents && d.evergreen) d.presidents = d.evergreen;
  }
</script>
<script src="/js/audio.js?v=15"></script>
<script src="/js/app.js?v=15"></script>
<!-- === /scripts === -->
</body></html>

