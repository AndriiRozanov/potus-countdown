<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Presidency Clock</title>
<meta name="description" content="Countdown to the constitutional end of the current U.S. presidential term (12:00 ET, Jan 20, 2029).">
<link rel="canonical" href="https://presidencyclock.com/">

<!-- Open Graph / Twitter -->
<meta property="og:title" content="Presidency Clock — Time left in Donald Trump’s presidency">
<meta property="og:description" content="Countdown to the constitutional end of the U.S. presidential term (12:00 ET, Jan 20, 2029).">
<meta property="og:url" content="https://presidencyclock.com/">
<meta property="og:image" content="https://presidencyclock.com/assets/og.png">
<meta name="twitter:card" content="summary_large_image">

<style>
  :root{--bg:#0b1020;--fg:#e8edf7;--muted:#9fb3c8;--accent:#3d6cff;--card:#121833;--card-border:#24305a}
  *{box-sizing:border-box}
  html,body{margin:0;padding:0;height:100%;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial;background:var(--bg);color:var(--fg)}
  a{color:var(--accent);text-decoration:none}
  header,footer{padding:14px 18px;border-bottom:1px solid var(--card-border)}
  header{display:flex;align-items:center;gap:14px}
  header img{height:32px;width:auto}
  nav{margin-left:auto;display:flex;gap:12px;flex-wrap:wrap}
  nav a{padding:8px 10px;border:1px solid var(--card-border);border-radius:8px;background:rgba(255,255,255,.03);text-transform:lowercase}
  nav a.active{border-color:var(--accent)}
  .container{max-width:1100px;margin:0 auto;padding:24px}
  .card{background:var(--card);border:1px solid var(--card-border);border-radius:14px;padding:16px}
  .hero{display:grid;grid-template-columns:1fr;gap:18px;margin-top:18px}
  .countdown{display:flex;gap:10px;flex-wrap:wrap}
  .tile{background:rgba(255,255,255,.03);border:1px solid var(--card-border);padding:16px 14px;border-radius:14px;min-width:140px;text-align:center}
  .tile .num{font-size:40px;font-weight:800}
  .tile .lbl{color:var(--muted);font-size:12px;letter-spacing:.05em;text-transform:uppercase}
  .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
  .btn{border:1px solid var(--card-border);background:rgba(255,255,255,.04);color:var(--fg);padding:10px 12px;border-radius:10px;cursor:pointer}
  .btn[aria-pressed="true"]{outline:2px solid var(--accent)}
  .badge{color:var(--muted);padding:10px 0}
  .lang-switch{display:flex;gap:8px}
  .share{display:flex;gap:10px;flex-wrap:wrap}
  .ads{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;margin-top:14px}
  .ad-box{min-height:120px;background:rgba(255,255,255,.03);border:1px dashed var(--card-border);border-radius:10px;display:flex;align-items:center;justify-content:center;color:var(--muted)}
  footer{border-top:1px solid var(--card-border);border-bottom:none;color:var(--muted)}

  /* EMBED MODE (/?embed=1) — компактний віджет в одному файлі */
  .embed-hidden{display:block}
  .embed-only{display:none}
  :root.embed body{background:transparent}
  :root.embed header,:root.embed footer,:root.embed .ads,:root.embed .share,:root.embed .badge{display:none}
  :root.embed .container{padding:8px}
  :root.embed .tile{min-width:90px}
  :root.embed .tile .num{font-size:26px}
  :root.embed .hero{margin-top:0}
  :root.embed .embed-hidden{display:none}
  :root.embed .embed-only{display:block}
</style>
</head>
<body>
<header class="embed-hidden">
  <img src="/assets/logo.svg" alt="Presidency Clock logo" width="160" height="40" loading="eager">
  <nav>
    <a href="/index.html" class="active" data-i18n="home"></a>
    <a href="/pages/evergreen.html" data-i18n="evergreen"></a>
    <a href="/pages/digest.html" data-i18n="digest"></a>
    <a href="/pages/about.html" data-i18n="about"></a>
    <a href="/pages/privacy.html" data-i18n="privacy"></a>
    <a href="/pages/contact.html" data-i18n="contact"></a>
  </nav>
</header>

<main class="container">
  <section class="hero card">
    <h1 data-i18n="title"></h1>
    <p class="muted" data-i18n="sub"></p>

    <div class="countdown" aria-live="polite" aria-label="countdown">
      <div class="tile" id="days"><div class="num">0</div><div class="lbl">Days</div></div>
      <div class="tile" id="hours"><div class="num">00</div><div class="lbl">Hours</div></div>
      <div class="tile" id="minutes"><div class="num">00</div><div class="lbl">Minutes</div></div>
      <div class="tile" id="seconds"><div class="num">00</div><div class="lbl" data-i18n="seconds"></div></div>
    </div>

    <div class="controls">
      <span class="badge" data-i18n="selectSound"></span>
      <button class="btn sound-option" data-mode="tick" data-i18n="tickSound" aria-pressed="true"></button>
      <button class="btn sound-option" data-mode="beep" data-i18n="beepSound" aria-pressed="false"></button>
      <button id="mute-btn" class="btn" data-i18n="unmute"></button>

      <div class="lang-switch" style="margin-left:auto">
        <button class="btn" data-lang="en">EN</button>
        <button class="btn" data-lang="uk">UK</button>
        <button class="btn" data-lang="es">ES</button>
        <button class="btn" data-lang="fr">FR</button>
        <button class="btn" data-lang="de">DE</button>
      </div>
    </div>

    <div class="share embed-hidden">
      <a id="share-x" class="btn" target="_blank" rel="noopener" data-i18n="shareX"></a>
      <a id="share-fb" class="btn" target="_blank" rel="noopener" data-i18n="shareFB"></a>
      <button id="copy-embed" class="btn" data-i18n="copy"></button>
    </div>

    <small class="muted embed-hidden" data-i18n="termsNote"></small>
    <small class="muted embed-only" style="text-align:center">Presidency Clock</small>
  </section>

  <section class="ads embed-hidden">
    <div class="ad-box" id="ad-1">Ad slot 1 — 300×250</div>
    <div class="ad-box" id="ad-2">Ad slot 2 — 300×250</div>
    <div class="ad-box" id="ad-3">Ad slot 3 — 728×90</div>
  </section>
</main>

<footer class="container embed-hidden">
  <small class="muted">
    <span data-i18n="madeWith"></span> ♥ <span data-i18n="in"></span> <span data-i18n="kyiv"></span> ·
    <a href="/pages/privacy.html" data-i18n="privacy"></a> ·
    <a href="/pages/contact.html" data-i18n="contact"></a>
  </small>
</footer>

<script>
/* ---------------- i18n fallback ---------------- */
window.I18N = window.I18N || {
  en:{home:"home",evergreen:"evergreen",digest:"digest",about:"about",privacy:"privacy",contact:"contact",
      title:"Time left in Donald Trump’s presidency",
      sub:"U.S. presidential terms end at 12:00 noon ET on January 20 (Twentieth Amendment).",
      seconds:"Seconds",selectSound:"Sound",tickSound:"Ticking",beepSound:"Digital beep",
      unmute:"Unmute sound",mute:"Mute sound",shareX:"Share on X",shareFB:"Share on Facebook",
      copy:"Copy code",copied:"Copied!",madeWith:"Made with",in:"in",kyiv:"Kyiv",
      termsNote:"Constitutional end of term: 12:00 ET, January 20, 2029."},
  uk:{home:"головна",evergreen:"вічнозелений",digest:"дайджест",about:"про нас",privacy:"конфіденційність",contact:"зв'язок",
      title:"Скільки часу залишилося Дональду Трампу на посаді президента США",
      sub:"Президентський термін у США закінчується о 12:00 за Східним часом 20 січня (Двадцята поправка).",
      seconds:"Секунди",selectSound:"Звук",tickSound:"Тихий «тік-так»",beepSound:"Електронний біп",
      unmute:"Увімкнути звук",mute:"Вимкнути звук",shareX:"Поділитися в X",shareFB:"Поділитися у Facebook",
      copy:"Скопіювати код",copied:"Скопійовано!",madeWith:"Зроблено з",in:"у",kyiv:"Києві",
      termsNote:"Кінець терміну: 12:00 ET, 20 січня 2029."},
  es:{home:"inicio",evergreen:"evergreen",digest:"ai digest",about:"acerca de",privacy:"privacidad",contact:"contacto",
      title:"Tiempo restante del mandato de Donald Trump",
      sub:"El mandato presidencial termina a las 12:00 ET el 20 de enero.",
      seconds:"Segundos",selectSound:"Sonido",tickSound:"Tictac",beepSound:"Pitido digital",
      unmute:"Activar sonido",mute:"Silenciar",shareX:"Compartir en X",shareFB:"Compartir en Facebook",
      copy:"Copiar código",copied:"¡Copiado!",madeWith:"Hecho con",in:"en",kyiv:"Kyiv",
      termsNote:"Fin del mandato: 12:00 ET, 20 de enero de 2029."},
  fr:{home:"accueil",evergreen:"evergreen",digest:"ai digest",about:"à propos",privacy:"confidentialité",contact:"contact",
      title:"Temps restant du mandat de Donald Trump",
      sub:"Le mandat se termine à 12 h (ET) le 20 janvier.",
      seconds:"Secondes",selectSound:"Son",tickSound:"Tic-tac",beepSound:"Bip numérique",
      unmute:"Activer le son",mute:"Couper le son",shareX:"Partager sur X",shareFB:"Partager sur Facebook",
      copy:"Copier le script",copied:"Copié !",madeWith:"Fait avec",in:"à",kyiv:"Kyiv",
      termsNote:"Fin du mandat : 12:00 ET, 20 janvier 2029."},
  de:{home:"start",evergreen:"evergreen",digest:"ai-digest",about:"über uns",privacy:"datenschutz",contact:"kontakt",
      title:"Verbleibende Amtszeit von Donald Trump",
      sub:"Die Amtszeit endet um 12:00 ET am 20. Januar.",
      seconds:"Sekunden",selectSound:"Sound",tickSound:"Ticken",beepSound:"Digitaler Piepton",
      unmute:"Ton ein",mute:"Stumm",shareX:"Auf X teilen",shareFB:"Auf Facebook teilen",
      copy:"Code kopieren",copied:"Kopiert!",madeWith:"Gemacht mit",in:"in",kyiv:"Kyiv",
      termsNote:"Amtsende: 12:00 ET, 20. Januar 2029."}
};

/* ---------------- audio (tick / beep) ---------------- */
class ClockAudio {
  constructor(){ this.ctx=null; this.enabled=false; this.mode='tick'; }
  ensure(){
    if(!this.ctx) this.ctx = new (window.AudioContext||window.webkitAudioContext)();
    if(this.ctx.state==='suspended') this.ctx.resume();
  }
  setMode(m){ this.mode=m; }
  toggle(on){ this.enabled = (on===undefined)?!this.enabled:on; if(this.enabled) this.ensure(); return this.enabled; }
  play(){
    if(!this.enabled) return;
    this.ensure();
    const ctx=this.ctx, osc=ctx.createOscillator(), g=ctx.createGain();
    const isBeep=this.mode==='beep';
    osc.type=isBeep?'square':'sine';
    osc.frequency.value=isBeep?880:480;
    g.gain.setValueAtTime(0.0001,ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.06,ctx.currentTime+0.005);
    g.gain.exponentialRampToValueAtTime(0.00001,ctx.currentTime+0.09);
    osc.connect(g).connect(ctx.destination); osc.start(); osc.stop(ctx.currentTime+0.095);
  }
}

/* ---------------- app ---------------- */
(function(){
  const TARGET = Date.parse('2029-01-20T17:00:00Z'); // 12:00 ET
  const $ = s => document.querySelector(s);
  const $$ = s => [...document.querySelectorAll(s)];

  // embed mode
  const p = new URLSearchParams(location.search);
  const EMBED = p.get('embed')==='1';
  if(EMBED){ document.documentElement.classList.add('embed'); }

  // language
  let lang = (p.get('lang') || localStorage.getItem('lang') || (navigator.language||'en')).slice(0,2).toLowerCase();
  if(!I18N[lang]) lang='en';
  const t = k => I18N[lang][k] || k;

  function applyI18n(){
    $$('[data-i18n]').forEach(el => el.textContent = t(el.dataset.i18n));
    const url = encodeURIComponent(location.origin + location.pathname + '?lang=' + lang);
    const text= encodeURIComponent(t('title'));
    const x=$('#share-x'); if(x) x.href=`https://twitter.com/intent/tweet?text=${text}&url=${url}`;
    const fb=$('#share-fb'); if(fb) fb.href=`https://www.facebook.com/sharer/sharer.php?u=${url}`;
    document.title = 'Presidency Clock — ' + t('title');
  }

  const audio = new ClockAudio();
  let muted=true, mode='tick';
  function setMode(m){
    audio.ensure && audio.ensure();
    mode=m; audio.setMode(mode);
    $$('.sound-option').forEach(b=>b.setAttribute('aria-pressed', String(b.dataset.mode===mode)));
  }
  function toggleMute(){
    audio.ensure && audio.ensure();
    muted=!muted; audio.toggle(!muted);
    const btn=$('#mute-btn'); if(btn) btn.textContent = muted ? t('unmute') : t('mute');
  }
  window.addEventListener('pointerdown', ()=>{ try{ audio.ensure(); }catch(e){} }, {once:true});

  const pad = n=>String(n).padStart(2,'0');
  function render(){
    const diff=Math.max(0, TARGET-Date.now());
    const s=Math.floor(diff/1000)%60, m=Math.floor(diff/60000)%60, h=Math.floor(diff/3600000)%24, d=Math.floor(diff/86400000);
    const dN=$('#days .num'), hN=$('#hours .num'), mN=$('#minutes .num'), sN=$('#seconds .num');
    if(dN){ dN.textContent=d; hN.textContent=pad(h); mN.textContent=pad(m); sN.textContent=pad(s); }
    if(!muted) audio.play();
  }

  document.addEventListener('DOMContentLoaded', ()=>{
    applyI18n(); setMode('tick'); render(); setInterval(render,1000);
    $$('.sound-option').forEach(b=>b.addEventListener('click',()=>setMode(b.dataset.mode)));
    const mute=$('#mute-btn'); if(mute) mute.addEventListener('click', toggleMute);
    $$('.lang-switch .btn').forEach(b=>b.addEventListener('click',()=>{ lang=b.dataset.lang; localStorage.setItem('lang',lang); applyI18n(); }));

    const copy=$('#copy-embed');
    if(copy){
      copy.addEventListener('click', ()=>{
        const code = `<iframe src="${location.origin}/?embed=1&lang=${lang}" width="100%" height="140" style="border:0;border-radius:12px" loading="lazy"></iframe>`;
        navigator.clipboard.writeText(code).then(()=>{ copy.textContent=t('copied'); setTimeout(()=>copy.textContent=t('copy'),1200); });
      });
    }
  });
})();
</script>
</body>
</html>
